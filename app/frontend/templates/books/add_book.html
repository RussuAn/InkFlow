{% extends "base.html" %}

{% block title %}–î–æ–¥–∞—Ç–∏ –Ω–æ–≤—É –∫–Ω–∏–≥—É | InkFlow{% endblock %}

{% block content %}
<div style="max-width: 850px; margin: 0 auto; padding-bottom: 3rem;">
    
    <div style="margin-bottom: 2rem;">
        <h2 style="margin: 0;">–î–æ–¥–∞—Ç–∏ –∫–Ω–∏–≥—É</h2>
        <p style="color: var(--text-muted);">–ü–∞–Ω–µ–ª—å –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–∞</p>
    </div>
    
    <div style="background: var(--bg-card); padding: 2.5rem; border-radius: 16px; box-shadow: var(--shadow);">
        
        <form method="POST" enctype="multipart/form-data">
            {{ form.hidden_tag() }}
            
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 2rem; align-items: start;">
                
                <div>
                    <h3 style="font-size: 1.1rem; color: var(--accent); margin-bottom: 1.5rem; border-bottom: 1px solid var(--border); padding-bottom: 0.5rem;">–ú–µ—Ç–∞–¥–∞–Ω—ñ</h3>

                    <div style="margin-bottom: 1.5rem;">
                        {{ form.title.label(style="display: block; margin-bottom: 0.5rem; font-weight: 600;") }}
                        {{ form.title(style="width: 100%; padding: 10px; border: 1px solid var(--border); border-radius: 8px; background: var(--bg-body); color: var(--text-main); font-size: 1rem;") }}
                        {% for error in form.title.errors %} <div style="color: #e74c3c; font-size: 0.85rem; margin-top: 5px;">{{ error }}</div> {% endfor %}
                    </div>

                    <div style="margin-bottom: 1.5rem;">
                        {{ form.author.label(style="display: block; margin-bottom: 0.5rem; font-weight: 600;") }}
                        {{ form.author(style="width: 100%; padding: 10px; border: 1px solid var(--border); border-radius: 8px; background: var(--bg-body); color: var(--text-main); font-size: 1rem;") }}
                        {% for error in form.author.errors %} <div style="color: #e74c3c; font-size: 0.85rem; margin-top: 5px;">{{ error }}</div> {% endfor %}
                    </div>

                    <div style="margin-bottom: 1.5rem;">
                        {{ form.genre.label(style="display: block; margin-bottom: 0.5rem; font-weight: 600;") }}
                        {{ form.genre(style="width: 100%; padding: 10px; border: 1px solid var(--border); border-radius: 8px; background: var(--bg-body); color: var(--text-main); font-size: 1rem; cursor: pointer;") }}
                        {% for error in form.genre.errors %} <div style="color: #e74c3c; font-size: 0.85rem; margin-top: 5px;">{{ error }}</div> {% endfor %}
                    </div>
                    
                    <div style="margin-bottom: 1.5rem;">
                        {{ form.price_coins.label(style="display: block; margin-bottom: 0.5rem; font-weight: 600;") }}
                        <div style="position: relative;">
                            <span style="position: absolute; left: 10px; top: 11px;">ü™ô</span>
                            {{ form.price_coins(style="width: 100%; padding: 10px 10px 10px 35px; border: 1px solid var(--border); border-radius: 8px; background: var(--bg-body); color: var(--text-main); font-size: 1rem;") }}
                        </div>
                        <div style="font-size: 0.8rem; color: var(--text-muted); margin-top: 5px;">–í–≤–µ–¥—ñ—Ç—å 0, —â–æ–± –∑—Ä–æ–±–∏—Ç–∏ –∫–Ω–∏–≥—É –±–µ–∑–∫–æ—à—Ç–æ–≤–Ω–æ—é.</div>
                        {% for error in form.price_coins.errors %} <div style="color: #e74c3c; font-size: 0.85rem; margin-top: 5px;">{{ error }}</div> {% endfor %}
                    </div>
                </div>

                <div>
                    <h3 style="font-size: 1.1rem; color: var(--accent); margin-bottom: 1.5rem; border-bottom: 1px solid var(--border); padding-bottom: 0.5rem;">–§–∞–π–ª–∏</h3>

                    <div style="margin-bottom: 1.5rem;">
                        {{ form.cover.label(style="display: block; margin-bottom: 0.5rem; font-weight: 600;") }}
                        <div style="padding: 20px; border: 2px dashed var(--border); border-radius: 8px; background: var(--bg-body); text-align: center; transition: border-color 0.2s;">
                            {{ form.cover(style="width: 100%; cursor: pointer;") }}
                            <div style="color: var(--text-muted); font-size: 0.8rem; margin-top: 10px;">JPG –∞–±–æ PNG, –±–∞–∂–∞–Ω–æ –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–∞</div>
                        </div>
                        {% for error in form.cover.errors %} <div style="color: #e74c3c; font-size: 0.85rem; margin-top: 5px;">{{ error }}</div> {% endfor %}
                    </div>

                    <div style="margin-bottom: 1.5rem;">
                        {{ form.book_file.label(style="display: block; margin-bottom: 0.5rem; font-weight: 600;") }}
                        <div style="padding: 20px; border: 2px dashed var(--border); border-radius: 8px; background: var(--bg-body); text-align: center;">
                            {{ form.book_file(style="width: 100%; cursor: pointer;") }}
                            <div style="color: var(--text-muted); font-size: 0.8rem; margin-top: 10px;">PDF –∞–±–æ EPUB</div>
                        </div>
                        {% for error in form.book_file.errors %} <div style="color: #e74c3c; font-size: 0.85rem; margin-top: 5px;">{{ error }}</div> {% endfor %}
                    </div>
                </div>
            </div>

            <div style="margin-bottom: 2rem; margin-top: 1rem;">
                {{ form.description.label(style="display: block; margin-bottom: 0.5rem; font-weight: 600;") }}
                {{ form.description(style="width: 100%; min-height: 150px; padding: 15px; border: 1px solid var(--border); border-radius: 8px; background: var(--bg-body); color: var(--text-main); font-family: inherit; line-height: 1.5; resize: vertical;", placeholder="–ù–∞–ø–∏—à—ñ—Ç—å –∞–Ω–æ—Ç–∞—Ü—ñ—é, —è–∫–∞ –∑–∞—Ü—ñ–∫–∞–≤–∏—Ç—å —á–∏—Ç–∞—á–∞...") }}
                {% for error in form.description.errors %} <div style="color: #e74c3c; font-size: 0.85rem; margin-top: 5px;">{{ error }}</div> {% endfor %}
            </div>

            <div style="border-top: 1px solid var(--border); padding-top: 1.5rem; display: flex; align-items: center; gap: 1rem;">
                {{ form.submit(style="background: var(--text-main); color: var(--bg-body); padding: 12px 35px; border: none; border-radius: 30px; cursor: pointer; font-weight: 600; font-size: 1rem; transition: opacity 0.2s;") }}
                <a href="{{ url_for('index') }}" style="color: var(--text-muted); text-decoration: none;">–°–∫–∞—Å—É–≤–∞—Ç–∏</a>
            </div>
            
        </form>
    </div>
</div>
{% endblock %}