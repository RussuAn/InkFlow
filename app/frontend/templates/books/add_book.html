{% extends "base.html" %}

{% block title %}–î–æ–¥–∞—Ç–∏ –Ω–æ–≤—É –∫–Ω–∏–≥—É | InkFlow{% endblock %}

{% block content %}
<div style="max-width: 800px; margin: 0 auto; padding-bottom: 3rem;">
    
    <div style="margin-bottom: 2rem;">
        <h2 style="margin: 0;">–î–æ–¥–∞—Ç–∏ –∫–Ω–∏–≥—É</h2>
        <p style="color: var(--text-muted);">–ü–∞–Ω–µ–ª—å –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–∞</p>
    </div>
    
    <div style="background: var(--bg-card); padding: 2.5rem; border-radius: 16px; box-shadow: var(--shadow);">
        
        <form method="POST" enctype="multipart/form-data">
            {{ form.hidden_tag() }}
            
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 2rem;">
                
                <div>
                    <div style="margin-bottom: 1.5rem;">
                        {{ form.title.label(style="display: block; margin-bottom: 0.5rem; font-weight: 600;") }}
                        {{ form.title(style="width: 100%; padding: 10px; border: 1px solid var(--border); border-radius: 8px; background: var(--bg-body); color: var(--text-main); font-size: 1rem;") }}
                        {% for error in form.title.errors %} <div style="color: #e74c3c;">{{ error }}</div> {% endfor %}
                    </div>

                    <div style="margin-bottom: 1.5rem;">
                        {{ form.author.label(style="display: block; margin-bottom: 0.5rem; font-weight: 600;") }}
                        {{ form.author(style="width: 100%; padding: 10px; border: 1px solid var(--border); border-radius: 8px; background: var(--bg-body); color: var(--text-main); font-size: 1rem;") }}
                        {% for error in form.author.errors %} <div style="color: #e74c3c;">{{ error }}</div> {% endfor %}
                    </div>
                    
                    <div style="margin-bottom: 1.5rem;">
                        {{ form.price_coins.label(style="display: block; margin-bottom: 0.5rem; font-weight: 600;") }}
                        <div style="position: relative;">
                            <span style="position: absolute; left: 10px; top: 11px;">ü™ô</span>
                            {{ form.price_coins(style="width: 100%; padding: 10px 10px 10px 35px; border: 1px solid var(--border); border-radius: 8px; background: var(--bg-body); color: var(--text-main); font-size: 1rem;") }}
                        </div>
                        <div style="font-size: 0.8rem; color: var(--text-muted); margin-top: 5px;">0 = –ë–µ–∑–∫–æ—à—Ç–æ–≤–Ω–æ</div>
                    </div>
                </div>

                <div>
                    <div style="margin-bottom: 1.5rem;">
                        {{ form.cover.label(style="display: block; margin-bottom: 0.5rem; font-weight: 600;") }}
                        <div style="padding: 15px; border: 1px dashed var(--border); border-radius: 8px; background: var(--bg-body);">
                            {{ form.cover(style="width: 100%;") }}
                        </div>
                        {% for error in form.cover.errors %} <div style="color: #e74c3c;">{{ error }}</div> {% endfor %}
                    </div>

                    <div style="margin-bottom: 1.5rem;">
                        {{ form.book_file.label(style="display: block; margin-bottom: 0.5rem; font-weight: 600;") }}
                        <div style="padding: 15px; border: 1px dashed var(--border); border-radius: 8px; background: var(--bg-body);">
                            {{ form.book_file(style="width: 100%;") }}
                        </div>
                        {% for error in form.book_file.errors %} <div style="color: #e74c3c;">{{ error }}</div> {% endfor %}
                    </div>
                </div>
            </div>

            <div style="margin-bottom: 2rem;">
                {{ form.description.label(style="display: block; margin-bottom: 0.5rem; font-weight: 600;") }}
                {{ form.description(style="width: 100%; min-height: 120px; padding: 10px; border: 1px solid var(--border); border-radius: 8px; background: var(--bg-body); color: var(--text-main); font-family: inherit;", placeholder="–ü—Ä–æ —â–æ —Ü—è –∫–Ω–∏–≥–∞?") }}
                {% for error in form.description.errors %} <div style="color: #e74c3c;">{{ error }}</div> {% endfor %}
            </div>

            <div style="border-top: 1px solid var(--border); padding-top: 1.5rem;">
                {{ form.submit(style="background: var(--text-main); color: var(--bg-body); padding: 12px 35px; border: none; border-radius: 30px; cursor: pointer; font-weight: 600; font-size: 1rem;") }}
                <a href="{{ url_for('index') }}" style="margin-left: 15px; color: var(--text-muted); text-decoration: none;">–°–∫–∞—Å—É–≤–∞—Ç–∏</a>
            </div>
            
        </form>
    </div>
</div>
{% endblock %}