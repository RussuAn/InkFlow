{% extends "base.html" %}

{% block title %}{{ book.title }} | InkFlow{% endblock %}

{% block content %}
<div style="padding: 2rem 0; max-width: 900px; margin: 0 auto;">
    
    <div style="display: flex; gap: 3rem; flex-wrap: wrap;">
        
        <div style="flex: 1; min-width: 280px; max-width: 350px;">
            <div style="aspect-ratio: 2/3; border-radius: 12px; overflow: hidden; box-shadow: 0 10px 30px rgba(0,0,0,0.15); margin-bottom: 1.5rem;">
                <img src="{{ url_for('static', filename='uploads/covers/' + book.cover_image) }}" 
                     alt="{{ book.title }}" 
                     style="width: 100%; height: 100%; object-fit: cover;">
            </div>
            
            <div style="display: flex; flex-direction: column; gap: 10px;">
                <button style="width: 100%; padding: 14px; background: var(--text-main); color: var(--bg-body); border: none; border-radius: 30px; font-weight: 600; font-size: 1rem; cursor: pointer;">
                    –ß–∏—Ç–∞—Ç–∏ —É—Ä–∏–≤–æ–∫
                </button>
                
                {% if book.price_coins == 0 %}
                    <a href="{{ url_for('static', filename='uploads/books/' + book.file_path) }}" download 
                       style="display: block; text-align: center; width: 100%; padding: 14px; background: transparent; border: 2px solid var(--text-main); color: var(--text-main); border-radius: 30px; font-weight: 600; text-decoration: none;">
                        –ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ (PDF/EPUB)
                    </a>
                {% else %}
                    <button style="width: 100%; padding: 14px; background: var(--accent); color: white; border: none; border-radius: 30px; font-weight: 600; cursor: pointer;">
                        –ö—É–ø–∏—Ç–∏ –∑–∞ {{ book.price_coins }} ü™ô
                    </button>
                {% endif %}
            </div>
        </div>

        <div style="flex: 2; min-width: 300px;">
            <h1 style="font-size: 2.5rem; margin-bottom: 0.5rem; line-height: 1.2;">{{ book.title }}</h1>
            <h3 style="font-size: 1.2rem; color: var(--accent); margin-bottom: 2rem; font-weight: 400;">{{ book.author }}</h3>
            
            <div style="background: var(--bg-card); padding: 2rem; border-radius: 12px; box-shadow: var(--shadow); margin-bottom: 2rem;">
                <h4 style="margin-bottom: 1rem; font-size: 1rem; text-transform: uppercase; color: var(--text-muted); letter-spacing: 1px;">–ü—Ä–æ –∫–Ω–∏–≥—É</h4>
                <p style="line-height: 1.8; color: var(--text-main); white-space: pre-line;">{{ book.description }}</p>
            </div>
            
            <div style="display: flex; gap: 2rem; color: var(--text-muted); font-size: 0.9rem;">
                <div>
                    <strong>–ú–æ–≤–∞:</strong> –£–∫—Ä–∞—ó–Ω—Å—å–∫–∞
                </div>
                <div>
                    <strong>–§–æ—Ä–º–∞—Ç:</strong> PDF / EPUB
                </div>
                <div>
                    <strong>–ü–µ—Ä–µ–≥–ª—è–¥—ñ–≤:</strong> {{ book.views_count }}
                </div>
            </div>
        </div>

    </div>
</div>
{% endblock %}