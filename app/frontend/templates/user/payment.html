{% extends "base.html" %}

{% block title %}–ü–æ–ø–æ–≤–Ω–µ–Ω–Ω—è –≥–∞–º–∞–Ω—Ü—è | InkFlow{% endblock %}

{% block content %}
<div style="max-width: 1000px; margin: 0 auto; padding: 3rem 0;">
    
    <h1 style="font-size: 2.5rem; margin-bottom: 0.5rem;">–ü–æ–ø–æ–≤–Ω–µ–Ω–Ω—è –≥–∞–º–∞–Ω—Ü—è</h1>
    <p style="color: var(--text-muted); margin-bottom: 3rem; font-size: 1.1rem;">–û–±–µ—Ä—ñ—Ç—å —Å—É–º—É —Ç–∞ –≤–≤–µ–¥—ñ—Ç—å –¥–∞–Ω—ñ –¥–ª—è –æ–ø–ª–∞—Ç–∏.</p>

    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 3rem;">
        
        <div>
            
            <h3 style="font-size: 1.5rem; margin-bottom: 1.5rem;">–û–±–µ—Ä—ñ—Ç—å —Å—É–º—É</h3>
            
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; margin-bottom: 2.5rem;">
                {% set amounts = [50, 100, 250, 500] %}
                {% for amount in amounts %}
                <label class="amount-option" style="cursor: pointer;">
                    <input type="radio" name="amount" value="{{ amount }}" {% if amount == 100 %}checked{% endif %} form="payment-form">
                    <div class="card no-padding" style="text-align: center; padding: 1.5rem; border-radius: 16px; border: none; box-shadow: var(--shadow);">
                        <div style="display: flex; align-items: center; justify-content: center; gap: 8px; margin-bottom: 0.5rem; color: var(--accent);">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M6 16V4a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H8a2 2 0 0 1-2-2Z"/><path d="M15 6h-6"/><path d="M8 18c-3 0-5 2-5 4"/></svg>
                            <span style="font-family: var(--font-head); font-size: 1.75rem; font-weight: 600;">{{ amount }}</span>
                        </div>
                        <p style="font-size: 0.95rem; color: var(--text-muted);">
                            {{ amount }} –≥—Ä–Ω
                        </p>
                    </div>
                </label>
                {% endfor %}
            </div>

            <div 
                class="mock-card-display"
                style="background: linear-gradient(135deg, #B58A59 0%, #9D7449 100%); 
                       padding: 2rem; border-radius: 16px; color: white; 
                       box-shadow: 0 20px 60px rgba(181, 138, 89, 0.4); 
                       position: relative; overflow: hidden; min-height: 200px;"
            >
                <div style="position: absolute; top: -50px; right: -50px; width: 120px; height: 120px; background: rgba(255,255,255,0.1); border-radius: 50%;"></div>
                <div style="position: absolute; bottom: -30px; left: -30px; width: 80px; height: 80px; background: rgba(255,255,255,0.1); border-radius: 50%;"></div>
                
                <div style="position: relative; z-index: 1;">
                    <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-bottom: 2rem;"><rect width="20" height="14" x="2" y="5" rx="2"/><line x1="2" y1="10" x2="22" y2="10"/></svg>
                    
                    <div style="font-size: 1.5rem; font-weight: 600; letter-spacing: 0.1em; margin-bottom: 1.5rem;">
                        ‚Ä¢‚Ä¢‚Ä¢‚Ä¢ ‚Ä¢‚Ä¢‚Ä¢‚Ä¢ ‚Ä¢‚Ä¢‚Ä¢‚Ä¢ ‚Ä¢‚Ä¢‚Ä¢‚Ä¢
                    </div>
                    
                    <div style="display: flex; justify-content: space-between; font-size: 0.95rem;">
                        <div>
                            <p style="font-size: 0.75rem; opacity: 0.7;">–í–õ–ê–°–ù–ò–ö –ö–ê–†–¢–ö–ò</p>
                            <p style="font-weight: 600; text-transform: uppercase;">{{ current_user.display_name.upper() if current_user.display_name else 'USER NAME' }}</p>
                        </div>
                        <div>
                            <p style="font-size: 0.75rem; opacity: 0.7;">–î–Ü–ô–°–ù–ê –î–û</p>
                            <p style="font-weight: 600;">MM/YY</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="card" style="padding: 2.5rem; border-radius: 24px;">
            <h3 style="font-size: 1.5rem; margin-bottom: 2rem;">–î–∞–Ω—ñ –¥–ª—è –æ–ø–ª–∞—Ç–∏</h3>
            
            <form method="POST" id="payment-form">
                
                <div style="margin-bottom: 1.5rem;">
                    <label style="display: block; margin-bottom: 0.5rem; font-weight: 500; color: var(--text-muted);">–ù–æ–º–µ—Ä –∫–∞—Ä—Ç–∫–∏</label>
                    <input type="text" placeholder="1234 5678 9012 3456" style="width: 100%;" required>
                </div>

                <div style="margin-bottom: 1.5rem;">
                    <label style="display: block; margin-bottom: 0.5rem; font-weight: 500; color: var(--text-muted);">–Ü–º'—è –≤–ª–∞—Å–Ω–∏–∫–∞</label>
                    <input type="text" placeholder="ANNA MELNYK" style="width: 100%;" required>
                </div>

                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; margin-bottom: 2rem;">
                    <div>
                        <label style="display: block; margin-bottom: 0.5rem; font-weight: 500; color: var(--text-muted);">–¢–µ—Ä–º—ñ–Ω –¥—ñ—ó</label>
                        <input type="text" placeholder="MM/YY" style="width: 100%;" required>
                    </div>
                    <div>
                        <label style="display: block; margin-bottom: 0.5rem; font-weight: 500; color: var(--text-muted);">CVV</label>
                        <input type="text" placeholder="123" style="width: 100%;" required>
                    </div>
                </div>
                
                <div class="payment-summary card no-padding" style="padding: 1rem; margin-bottom: 2rem; border-radius: 12px; border: 1px solid var(--border); box-shadow: none; background: var(--input-bg);">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.5rem;">
                        <span style="color: var(--text-muted);">–ú–æ–Ω–µ—Ç–∏</span>
                        <span style="font-weight: 600;">100 ü™ô</span>
                    </div>
                    <div style="display: flex; justify-content: space-between; align-items: center;">
                        <span style="color: var(--text-muted);">–î–æ —Å–ø–ª–∞—Ç–∏</span>
                        <span style="font-family: var(--font-head); font-size: 1.5rem; font-weight: 600; color: var(--accent);">
                            95 –≥—Ä–Ω
                        </span>
                    </div>
                </div>

                <button type="submit" class="btn-primary" style="width: 100%; padding: 14px 30px; font-weight: 600; font-size: 1.05rem;">
                    –ü–æ–ø–æ–≤–Ω–∏—Ç–∏ –≥–∞–º–∞–Ω–µ—Ü—å
                </button>
                
                <p style="text-align: center; margin-top: 1rem; color: var(--text-muted); font-size: 0.85rem;">
                    üîí –¶–µ –¥–µ–º–æ-–≤–µ—Ä—Å—ñ—è. –†–µ–∞–ª—å–Ω—ñ –ø–ª–∞—Ç–µ–∂—ñ –Ω–µ –æ–±—Ä–æ–±–ª—è—é—Ç—å—Å—è.
                </p>
            </form>
        </div>
    </div>
</div>

<style>
    .amount-option input { display: none; }
    
    .amount-option input:checked + .card {
        background-color: var(--accent);
        color: white;
        transform: translateY(-2px);
        box-shadow: 0 8px 24px rgba(181, 138, 89, 0.4);
    }

    .amount-option input:checked + .card div, 
    .amount-option input:checked + .card div span,
    .amount-option input:checked + .card p {
        color: white !important; 
    }
    
    .amount-option input:checked + .card svg {
        stroke: white !important; 
    }
</style>

<script>
    document.addEventListener('DOMContentLoaded', () => {
        const paymentForm = document.getElementById('payment-form');
        const amountOptions = document.querySelectorAll('.amount-option input[type="radio"]');
        const summaryDiv = document.querySelector('.payment-summary');

        const priceMap = {
            50: { coins: 50, price: 50, label: "50 –≥—Ä–Ω" },
            100: { coins: 100, price: 95, label: "95 –≥—Ä–Ω" },
            250: { coins: 250, price: 225, label: "225 –≥—Ä–Ω" },
            500: { coins: 500, price: 425, label: "425 –≥—Ä–Ω" }
        };

        function updateSummary() {
            let selectedAmount = document.querySelector('.amount-option input:checked').value;
            let data = priceMap[selectedAmount];

            summaryDiv.innerHTML = `
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.5rem;">
                    <span style="color: var(--text-muted);">–ú–æ–Ω–µ—Ç–∏</span>
                    <span style="font-weight: 600;">${data.coins} ü™ô</span>
                </div>
                <div style="display: flex; justify-content: space-between; align-items: center;">
                    <span style="color: var(--text-muted);">–î–æ —Å–ø–ª–∞—Ç–∏</span>
                    <span style="font-family: var(--font-head); font-size: 1.5rem; font-weight: 600; color: var(--accent);">
                        ${data.price} –≥—Ä–Ω
                    </span>
                </div>
            `;
        }

        amountOptions.forEach(radio => {
            radio.addEventListener('change', updateSummary);
        });

        updateSummary();
    });
</script>
{% endblock %}