{% extends "base.html" %}

{% block title %}–ë—ñ–±–ª—ñ–æ—Ç–µ–∫–∞ InkFlow{% endblock %}

{% block content %}
<div style="padding-bottom: 3rem;">
    
    <div style="text-align: center; margin-bottom: 3rem; padding: 2rem 0;">
        <h1 style="font-size: 3rem; margin-bottom: 0.5rem;">–ë—ñ–±–ª—ñ–æ—Ç–µ–∫–∞ InkFlow</h1>
        <p style="color: var(--text-muted); font-size: 1.1rem;">–ó–∞—Ç–∏—à–Ω–µ –º—ñ—Å—Ü–µ –¥–ª—è —Ç–≤–æ—ó—Ö —ñ—Å—Ç–æ—Ä—ñ–π.</p>
        
        {% if current_user.is_authenticated and current_user.role == 'admin' %}
            <div style="margin-top: 1.5rem;">
                <a href="{{ url_for('books.add_book') }}" style="background: var(--text-main); color: var(--bg-body); padding: 10px 20px; border-radius: 30px; text-decoration: none; font-weight: 600; font-size: 0.9rem;">
                    + –î–æ–¥–∞—Ç–∏ –∫–Ω–∏–≥—É
                </a>
            </div>
        {% endif %}
    </div>

    <div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap: 2rem;">
        
        {% for book in books %}
            <a href="{{ url_for('books.book_detail', book_id=book.id) }}" style="text-decoration: none; color: inherit;">
                <div class="book-card" style="transition: transform 0.2s;">
                    <div style="aspect-ratio: 2/3; overflow: hidden; border-radius: 8px; box-shadow: var(--shadow); margin-bottom: 1rem; position: relative;">
                        <img src="{{ url_for('static', filename='uploads/covers/' + book.cover_image) }}" 
                             alt="{{ book.title }}" 
                             style="width: 100%; height: 100%; object-fit: cover;">
                        
                        <div style="position: absolute; top: 10px; right: 10px; background: rgba(0,0,0,0.7); color: white; padding: 4px 10px; border-radius: 12px; font-size: 0.8rem; font-weight: 600; backdrop-filter: blur(4px);">
                            {% if book.price_coins == 0 %}
                                Free
                            {% else %}
                                {{ book.price_coins }} ü™ô
                            {% endif %}
                        </div>
                    </div>
                    
                    <h3 style="font-size: 1.1rem; margin-bottom: 0.3rem; line-height: 1.3;">{{ book.title }}</h3>
                    <p style="color: var(--text-muted); font-size: 0.9rem;">{{ book.author }}</p>
                </div>
            </a>
        {% else %}
            <p style="grid-column: 1/-1; text-align: center; color: var(--text-muted);">
                –ü–æ–∫–∏ —â–æ –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∞ –ø–æ—Ä–æ–∂–Ω—è. –ó–∞—á–µ–∫–∞–π—Ç–µ –Ω–∞ –Ω–æ–≤—ñ –Ω–∞–¥—Ö–æ–¥–∂–µ–Ω–Ω—è!
            </p>
        {% endfor %}

    </div>
</div>

<style>
    /* –õ–µ–≥–∫–∞ –∞–Ω—ñ–º–∞—Ü—ñ—è –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–Ω—ñ */
    .book-card:hover {
        transform: translateY(-5px);
    }
</style>
{% endblock %}